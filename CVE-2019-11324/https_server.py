import http.server
import ssl

class WebHTMLHandler(http.server.BaseHTTPRequestHandler):
    def do_GET(self):
        # Define a realistic HTML response
        content = b"""
        <html>
            <head>
                <title>Welcome to Secure Server</title>
            </head>
            <body>
                <h1>Welcome to Our Secure Web Server</h1>
                <p>This is a simulated response for testing HTTPS connections.</p>
            </body>
        </html>
        """
        # Send headers and response
        self.send_response(200)
        self.send_header("Content-Type", "text/html")
        self.end_headers()
        self.wfile.write(content)

# Configure the HTTP server
server_address = ('0.0.0.0', 443)  # Listen on all interfaces for Docker networking
httpd = http.server.HTTPServer(server_address, WebHTMLHandler)

# Wrap the server with SSL using your self-signed certificate and private key
httpd.socket = ssl.wrap_socket(httpd.socket,
                               certfile="self_signed_cert.pem",
                               keyfile="private_key.pem",
                               server_side=True)

print("Serving on https://0.0.0.0:443")
httpd.serve_forever()

